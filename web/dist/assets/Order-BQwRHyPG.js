import{o as p,b as o,c as a,d as t,t as r,g as v,e as _,w as y,u as m,r as b,i as k,f as g}from"./index-B15sqxBd.js";import{a as f}from"./index-Dnk_-Q5K.js";const x={class:"container",style:{"max-width":"600px","margin-top":"50px"}},w={class:"card"},C={class:"order-info"},h={class:"order-info-row"},N={class:"order-info-row"},U={style:{color:"var(--primary)","font-weight":"600"}},V={class:"order-info-row"},B={key:0,class:"status-badge status-used"},I={key:1,class:"status-badge status-paid"},O={key:2,class:"status-badge status-pending"},T={key:0},D={class:"key-display"},E={key:1,class:"alert alert-warning"},K={key:2},$={__name:"Order",setup(M){const d=m(),e=b({orderId:"",amount:0,status:"pending",keyCode:null,isUsed:!1});p(async()=>{await i()});async function i(){try{const{data:n}=await f.get(`/api/order/${d.params.orderId}`);e.value=n}catch{alert("订单不存在")}}function l(){navigator.clipboard.writeText(e.value.keyCode),alert("密钥已复制到剪贴板")}function u(){i()}return(n,s)=>{const c=k("router-link");return o(),a("div",x,[t("div",w,[s[6]||(s[6]=t("h2",{class:"card-title"},"订单查询",-1)),t("div",C,[t("div",h,[s[0]||(s[0]=t("span",null,"订单号",-1)),t("span",null,r(e.value.orderId),1)]),t("div",N,[s[1]||(s[1]=t("span",null,"金额",-1)),t("span",U,"¥"+r(e.value.amount),1)]),t("div",V,[s[2]||(s[2]=t("span",null,"状态",-1)),t("span",null,[e.value.isUsed?(o(),a("span",B,"已使用")):e.value.status==="paid"?(o(),a("span",I,"已支付")):(o(),a("span",O,"待支付"))])])]),e.value.status==="paid"&&e.value.keyCode&&!e.value.isUsed?(o(),a("div",T,[s[3]||(s[3]=t("p",{style:{"margin-bottom":"12px"}},"您的部署密钥：",-1)),t("div",D,r(e.value.keyCode),1),t("button",{class:"btn btn-primary btn-block",onClick:l},"复制密钥")])):e.value.isUsed?(o(),a("div",E," 此密钥已被使用，无法再次使用 ")):e.value.status==="pending"?(o(),a("div",K,[s[4]||(s[4]=t("div",{class:"alert alert-warning"}," 订单尚未支付，请完成支付后等待管理员确认 ",-1)),t("button",{class:"btn btn-primary btn-block",onClick:u},"刷新状态")])):v("",!0),_(c,{to:"/",class:"btn btn-block",style:{"margin-top":"16px",background:"var(--bg-input)","text-decoration":"none",color:"var(--text)"}},{default:y(()=>[...s[5]||(s[5]=[g(" 返回首页 ",-1)])]),_:1})])])}}};export{$ as default};
